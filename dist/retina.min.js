/*!
 * Retina.js v2.0.0
 *
 * Copyright 2016 Axial, LLC
 * Released under the MIT license
 *
 * Retina.js is an open source script that makes it easy to serve
 * high-resolution images to devices with retina displays.
 */
!function(){function t(){}function e(t){return h.retinaImageSuffix+t}function i(t,i){var n=/\.[\w\?=]+$/,a=document.createElement("a"),h=this.path.split("?");this.path=t||"","undefined"!=typeof i&&null!==i?(this.at_2x_path=i,this.perform_check=!1):(void 0!==document.createElement?(a.href=this.path,a.pathname=a.pathname.replace(n,e),this.at_2x_path=a.href):(h[0]=h[0].replace(n,e),this.at_2x_path=h.join("?")),this.perform_check=!0)}function n(t){var e=this;this.el=t,this.path=new i(this.el.getAttribute("src"),this.el.getAttribute("data-at2x")),this.path.check_2x_variant(function(t){t&&e.swap()})}var a="undefined"==typeof exports?window:exports,h={retinaImageSuffix:"@2x",check_mime_type:!0,retinaImgTagSelector:"body img",force_original_dimensions:!0};a.Retina=t,t.configure=function(t){var e;null===t&&(t={});for(e in t)t.hasOwnProperty(e)&&(h[e]=t[e])},t.init=function(t){null===t&&(t=a),t.addEventListener("load",function(){var t,e,i=document.querySelectorAll(h.retinaImgTagSelector),a=[];for(t=0;t<i.length;t+=1)e=i[t],e.getAttributeNode("data-no-retina")||e.src&&a.push(new n(e))})},t.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return a.devicePixelRatio>1?!0:!(!a.matchMedia||!a.matchMedia(t).matches)},a.RetinaImagePath=i,i.confirmed_paths=[],i.prototype.is_external=function(){return!(!this.path.match(/^(https?:|\/\/)/i)||this.path.match("//"+document.domain))},i.prototype.check_2x_variant=function(t){var e,n=this,a=e.getResponseHeader("Content-Type");return this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in i.confirmed_paths?t(!0):this.is_external()?t(!1):(e=new XMLHttpRequest,e.open("HEAD",this.at_2x_path),e.onreadystatechange=function(){return 4!==e.readyState?t(!1):e.status>=200&&e.status<=399&&(!h.check_mime_type||null!==a&&a.match(/^image/i))?(i.confirmed_paths.push(n.at_2x_path),t(!0)):t(!1)},e.send(),void 0):t(!0)},a.RetinaImage=n,n.prototype.swap=function(t){function e(){i.el.complete?(h.force_original_dimensions&&(0===i.el.offsetWidth&&0===i.el.offsetHeight?(i.el.setAttribute("width",i.el.naturalWidth),i.el.setAttribute("height",i.el.naturalHeight)):(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight))),i.el.setAttribute("src",t)):setTimeout(e,5)}var i=this;"undefined"==typeof t&&(t=this.path.at_2x_path),e()},t.isRetina()&&t.init(a)}();